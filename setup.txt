cd /srv # wherever we want the app to be
git clone https://github.com/tybens/lonelyraids.com.git
cd lonelyraids.com
sudo apt-get update
sudo apt install python3-pip python3-dev python3-venv nginx
python3 -m venv venv
source venv/bin/activate
sudo pip3 install -r requirements.txt

# change app.py PROD to be True
vim app.py #...

# static files
sudo mkdir /var/www/static
sudo mv -v static/* /var/www/static/

# nginx config
sudo mv lr-nginx /etc/nginx/sites-available/lr-nginx
sudo ln -s /etc/nginx/sites-available/lr-nginx /etc/nginx/sites-enabled/
sudo systemctl restart nginx
sudo ufw allow 'Nginx Full'  # not sure if this is necessary (the article said it was)

# redis setup
sudo wget http://download.redis.io/redis-stable.tar.gz
tar xvzf redis-stable.tar.gz
cd redis-stable
sudo make # not sure
sudo make install

# set up supervisor
sudo mv etc/supervisor_services.conf /etc/supervisord.conf
sudo supervisord

deactivate # deactivate venv...
